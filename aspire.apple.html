<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>aspire.apple package &mdash; ASPIRE 0.8.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="aspire.basis package" href="aspire.basis.html" />
    <link rel="prev" title="aspire.abinitio package" href="aspire.abinitio.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ASPIRE
          </a>
              <div class="version">
                0.8.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="aspire.html">aspire package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="aspire.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="aspire.abinitio.html">aspire.abinitio package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">aspire.apple package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.basis.html">aspire.basis package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.classification.html">aspire.classification package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.commands.html">aspire.commands package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.config.html">aspire.config package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.covariance.html">aspire.covariance package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.ctf.html">aspire.ctf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.denoising.html">aspire.denoising package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.image.html">aspire.image package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.noise.html">aspire.noise package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.nufft.html">aspire.nufft package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.numeric.html">aspire.numeric package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.operators.html">aspire.operators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.optimization.html">aspire.optimization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.reconstruction.html">aspire.reconstruction package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.source.html">aspire.source package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.storage.html">aspire.storage package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.utils.html">aspire.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="aspire.volume.html">aspire.volume package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="aspire.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="aspire.html#module-aspire.exceptions">aspire.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="aspire.html#module-aspire">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ASPIRE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">Modules</a> &raquo;</li>
          <li><a href="aspire.html">aspire package</a> &raquo;</li>
      <li>aspire.apple package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/aspire.apple.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="aspire-apple-package">
<h1>aspire.apple package<a class="headerlink" href="#aspire-apple-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-aspire.apple.apple">
<span id="aspire-apple-apple-module"></span><h2>aspire.apple.apple module<a class="headerlink" href="#module-aspire.apple.apple" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="aspire.apple.apple.Apple">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">aspire.apple.apple.</span></span><span class="sig-name descname"><span class="pre">Apple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.apple.Apple" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.apple.Apple.particle_image">
<span class="sig-name descname"><span class="pre">particle_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">micro_img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.apple.Apple.particle_image" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return a numpy array representing the picked centers on a micrograph, suitable for rendering in a jupyter</dt><dd><p>notebook or saving as a jpg etc.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>micro_img</strong> – The micrograph image as a numpy array</p></li>
<li><p><strong>particle_size</strong> – Particle size of picked particles</p></li>
<li><p><strong>centers</strong> – Picked centers for micrograph.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array with picked centers displayed as rectangles</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.apple.Apple.process_folder">
<span class="sig-name descname"><span class="pre">process_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_jpg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.apple.Apple.process_folder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.apple.Apple.process_micrograph">
<span class="sig-name descname"><span class="pre">process_micrograph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_centers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_img</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_jpg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.apple.Apple.process_micrograph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.apple.Apple.verify_input_values">
<span class="sig-name descname"><span class="pre">verify_input_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.apple.Apple.verify_input_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-aspire.apple.helper">
<span id="aspire-apple-helper-module"></span><h2>aspire.apple.helper module<a class="headerlink" href="#module-aspire.apple.helper" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">aspire.apple.helper.</span></span><span class="sig-name descname"><span class="pre">PickerHelper</span></span><a class="headerlink" href="#aspire.apple.helper.PickerHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.extract_query">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">extract_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.extract_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract all query images from the micrograph. windows are
extracted with steps of size (block_size/2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – Micrograph image.</p></li>
<li><p><strong>block_size</strong> – Query images must be of size (block_size x block_size).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4D Matrix of query images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.extract_references">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">extract_references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.extract_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Chooses and extracts reference images from the micrograph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – Micrograph image.</p></li>
<li><p><strong>query_size</strong> – Reference images must be of the same size of query images, i.e. (query_size x query_size).</p></li>
<li><p><strong>container_size</strong> – Containers are large regions used to select reference images. The size of each</p></li>
<li><p><strong>is</strong> (<em>region</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3D Matrix of reference images.  windows[0] is the first reference window.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.extract_windows">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">extract_windows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.extract_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts blocks of size (block_size x block_size) from the micrograph. Blocks are
extracted with steps of size (block_size)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – Micrograph image.</p></li>
<li><p><strong>block_size</strong> – required block size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3D Matrix of blocks. For example, img[0] is the first block.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.gaussian_filter">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">gaussian_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.gaussian_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes low-pass filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size_filter</strong> – Size of filter (size_filter x size_filter).</p></li>
<li><p><strong>std</strong> – sigma value in filter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.get_training_set">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">get_training_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">micro_img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bw_mask_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bw_mask_n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.get_training_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets training set for the SVM classifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>micro_img</strong> – Micrograph image.</p></li>
<li><p><strong>bw_mask_p</strong> – Binary image indicating regions from which to extract examples of particles.</p></li>
<li><p><strong>bw_mask_n</strong> – Binary image indicating regions from which to extract examples of noise.</p></li>
<li><p><strong>n</strong> – Size of training windows.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A matrix of features and a vector of labels for the SVM training.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.moments">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">moments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.moments" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the mean and standard deviation for each window of size (query_size x query_size)
in the micrograph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – Micrograph image.</p></li>
<li><p><strong>query_size</strong> – Size of windows for which to compute mean and std.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A matrix of mean intensity and a matrix of variance, each containing a single
entry for each possible (query_size x query_size) window in the micrograph.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.helper.PickerHelper.reference_size">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">reference_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.helper.PickerHelper.reference_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-aspire.apple.picking">
<span id="aspire-apple-picking-module"></span><h2>aspire.apple.picking module<a class="headerlink" href="#module-aspire.apple.picking" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">aspire.apple.picking.</span></span><span class="sig-name descname"><span class="pre">Picker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class does the actual picking with help from PickerHelper class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker.extract_particles">
<span class="sig-name descname"><span class="pre">extract_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segmentation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker.extract_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves particle centers into output .star file, after dismissing regions
that are too big to contain a particle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>segmentation</strong> – Segmentation of the micrograph into noise and particle projections.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker.get_maps">
<span class="sig-name descname"><span class="pre">get_maps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">micro_img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_windows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_noise_windows</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker.get_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets maps of regions from which to extract particle training for the SVM classifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – Matrix containing a score for each query image.</p></li>
<li><p><strong>micro_img</strong> – Micrograph image.</p></li>
<li><p><strong>particle_windows</strong> – Number of windows that must contain a particle.</p></li>
<li><p><strong>non_noise_windows</strong> – Number of windows that contain neither noise nor particles.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker.morphology_ops">
<span class="sig-name descname"><span class="pre">morphology_ops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segmentation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker.morphology_ops" title="Permalink to this definition">¶</a></dt>
<dd><p>Discards suspected artifacts from segmentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>segmentation</strong> – Segmentation of the micrograph into noise and particle projections.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Segmentation of the micrograph into noise and particle projections.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker.query_score">
<span class="sig-name descname"><span class="pre">query_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker.query_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates score for each query image.</p>
<p>Extracts query images and reference windows. Computes the cross-correlation between these
windows, and applies a threshold to compute a score for each query image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>show_progress</strong> – Whether to show a progress bar</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Matrix containing a score for each query image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker.read_mrc">
<span class="sig-name descname"><span class="pre">read_mrc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker.read_mrc" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and preprocesses micrograph.</p>
<p>Reads the micrograph, applies binning and a low-pass filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Micrograph image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aspire.apple.picking.Picker.run_svm">
<span class="sig-name descname"><span class="pre">run_svm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#aspire.apple.picking.Picker.run_svm" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains and uses an SVM classifier.</p>
<p>Trains an SVM classifier to distinguish between noise and particle projections based on
mean intensity and variance. Every possible window in the micrograph is then classified
as either noise or particle, resulting in a segmentation of the micrograph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>score</strong> – Matrix containing a score for each query image.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Segmentation of the micrograph into noise and particle projections.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-aspire.apple">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-aspire.apple" title="Permalink to this headline">¶</a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="aspire.abinitio.html" class="btn btn-neutral float-left" title="aspire.abinitio package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="aspire.basis.html" class="btn btn-neutral float-right" title="aspire.basis package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Princeton University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>